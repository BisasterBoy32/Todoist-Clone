(window["webpackJsonpreact-boilerplate"]=window["webpackJsonpreact-boilerplate"]||[]).push([[0],{13:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAEfklEQVRogdWaa4hVVRTH//cyTWZhjQWZhZRkZhaVFBQ96AFFBKWV9iAliehDRiBSJGohQpLUB/VDCUlkNnNBgl5+iIysMHtY9IBKeihhGvjInEw05hfrzj7M9ex1jjN3zp3p/GHBPWfvtddaZ6/X2edWAAVUJN0T6CJJIyURqKI+5F3TsFbWdX/XSl/vl7RF0mpJG/pmgNEo4G3Kg+VAtf7ww493SqR8gqVmgLnQnZLWqXw4ImlKVdKsEipvOE7SNDNgUjRUHkw0A44vsQHt1YZUV0b0VFN5t5U4KGlfwetTjW4Vjx5JL0q6OMTbfEm7C5JSsTqwLcqwxeFd4OpQLBvphoIk1Npa5ELfS1qUUV9sFx6N7jYHzID2AhXfK+k5SSskHUiNdUiaJ2mOpFER5yAM2CppTDQ0MJifvyJpiaSfU5y2wzMlLZA0oSDF+9YGTgIWAnsiD+sfNgLXOH6u4P8bWxhjtUZh5wAvAf9G03z8AMwEKo7i5wMvAz0uZ3Ho8p6aPc2PckTsAxaHFjzNezIwH9gfccFfwB/R3cGh04Se5ihiLfZsYHtq+TXAuc58o/uAHx11bBdWA+OB0cFd90azmkN9B74GngZGOkqZcQuCO1znjBtdCWzIEP8+cJXDc2M0sznUY+D3wGqGzHCEZdE4YBVwxBGdFx8TbOsjjuZQd6GdKdY3gSmO4IROBOZm+POfwJIQC158LAwxVBTqBnzsLHYIWAmMTSlxL/BtNLsX5ufnOYobPRB2pWjUkifzVEZgmXs9AdwPvBWN9uKD0Nt4il8LvBdxFIda2jfXDiB3/wI86Cid1JRVQ1AHOj3h1wOfRlP70A08A3Q4vJbJHs/YzUMhRgo3YLSjSDvwMLAjzQBMcuYbTQe+i0T0Yk3gOzMUwaIMqbvQFuBJ4ARHqTNCjbAW4xZn3OjynEOxD0POT/PcHM1sDl2NadSyyx2OsCwaG/z8sCP6p1AHqg7v+BBrRaCzsZAlsDpwiSM4oRHAPIeP0O8sznBL63oXAbsjrkEasCm6DQeBZ4HTU0pMCy7n4TVgsqO40d059WMwqMdAR8gqXgf5G/AYMBV4PRrtxWbgJkfpJD7WRxzF4ah22rLEqwNY+lfgoQw/tzrwwgDeLZqFWwfsaX6Ws6D5+bKMNjzpk4r08zzUd+AUR5E2YA6wK8W8DrjAmW90O/BNjrBWoB4DX4bq2e4oNSbEx9qcOnBpi/08D0fVgc+B2xwFs8gy1ArgnxwBrUanHS0eDkcUl0l6Q1JN0oXRAUYf7BzpEUlfhDOeEdGMoUPFO52eIekTScsknZoamyppk6SVks4aRsUTVOyVb7ukcdFQL7ZJWi5ph6Tpku6KZgwvutqOIf5sSc9Hd/9H8FyoTKgMxfeBVqJqBvxdYgO6qyEdlhVfWRa6IqTNsmGP/afDdmCzpKUlNGCupJ2NbYK9+x4Yxragv7CDhlmJ3o1/tzFMlHSrpMkNLUKSau0rjH1tsWv7bfeSz7R2bTjW3268tZLrxrXSa9t1t/l8aHd21VeT9B+Lu4WPg3kpFQAAAABJRU5ErkJggg=="},14:function(e,t,a){e.exports=a(27)},26:function(e,t,a){},27:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(10),l=a.n(r),o=a(1),s=a(11),d=a.n(s),i=(a(21),d.a.initializeApp({apiKey:"AIzaSyDfekojaU5-6dtCbKTRKewqo7N7G7Jwco4",authDomain:"todoist-clone-5008e.firebaseapp.com",databaseURL:"https://todoist-clone-5008e.firebaseio.com",projectId:"todoist-clone-5008e",storageBucket:"todoist-clone-5008e.appspot.com",messagingSenderId:"887074625150",appId:"1:887074625150:web:53a8b0340f99a956536a2f"})),u=a(3),m=a.n(u),p=a(2),f=a(12),j=[{key:"TODAY",name:"TODAY"},{key:"INBOX",name:"INBOX"},{key:"NEXT_7",name:"NEXT 7 DAYS"}],E=function(e){return j.find((function(t){return t.key===e}))};function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var v=Object(n.createContext)(),O=function(e){var t=e.children,a=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){i.firestore().collection("projects").where("userid","==","1").orderBy("name").get().then((function(e){var t=e.docs.map((function(e){return b({},e.data(),{docId:e.id})}));JSON.stringify(a)!==JSON.stringify(t)&&c(t)}))}),[a]),[a,c]}(),r=Object(o.a)(a,2),l=r[0],s=r[1];return c.a.createElement(v.Provider,{value:{projects:l,setProjects:s}},t)},N=function(){return Object(n.useContext)(v)},A=Object(n.createContext)(),h=function(e){var t=e.children,a=Object(n.useState)("INBOX"),r=Object(o.a)(a,2),l=r[0],s=r[1];return c.a.createElement(A.Provider,{value:{selectedProject:l,setSelectedProject:s}},t)},w=function(){return Object(n.useContext)(A)},_=function(e){var t=e.setProject,a=e.setShowProjectOverlay,n=N().projects;return n.length&&c.a.createElement("div",{className:"project-overlay","data-testid":"project-overlay"},c.a.createElement("ul",{className:"project-overlay__list"},n.map((function(e){return c.a.createElement("li",{key:e.docId,"data-testid":"project-overlay-action",onClick:function(){t(e.docId),a(!1)}},c.a.createElement("span",{className:"sidebar__dot",style:{color:e.color,fontSize:"42px"}},"\u30fb"),c.a.createElement("span",{className:"sidebar__project-name"}," ",e.name," "))}))))},y=function(e){var t=e.setShowDate,a=e.setDate;return c.a.createElement("div",{className:"task-date","data-testid":"task-date-overlay"},c.a.createElement("ul",{className:"task-date__list"},c.a.createElement("li",{"data-testid":"test-date-today",onClick:function(){a(m()().format("DD-MM-YYYY")),t(!1)}},c.a.createElement("span",null,c.a.createElement(p.h,null)),c.a.createElement("span",null," Today")),c.a.createElement("li",{"data-testid":"test-date-tomorrow",onClick:function(){a(m()().add(1,"days").format("DD-MM-YYYY")),t(!1)}},c.a.createElement("span",null,c.a.createElement(p.i,null)),c.a.createElement("span",null," Tomorrow")),c.a.createElement("li",{"data-testid":"test-date-next-week",onClick:function(){a(m()().add(7,"days").format("DD-MM-YYYY")),t(!1)}},c.a.createElement("span",null,c.a.createElement(p.g,null)),c.a.createElement("span",null," This Week"))))},g=function(e){var t=e.showAddTaskMain,a=void 0===t||t,r=e.shouldShowMain,l=void 0!==r&&r,s=e.showQuickAddTask,d=e.setShowQuickAddTask,u=w().selectedProject,f=Object(n.useState)(""),j=Object(o.a)(f,2),E=j[0],k=j[1],b=Object(n.useState)(""),v=Object(o.a)(b,2),O=v[0],N=v[1],A=Object(n.useState)(""),h=Object(o.a)(A,2),g=h[0],D=h[1],S=Object(n.useState)(!1),Y=Object(o.a)(S,2),B=Y[0],T=Y[1],I=Object(n.useState)(!1),C=Object(o.a)(I,2),M=C[0],x=C[1],P=Object(n.useState)(l),X=Object(o.a)(P,2),z=X[0],U=X[1];return c.a.createElement("div",{className:s?"add-task add-task__overlay":"add-task"},a&&c.a.createElement("div",{className:"add-task__shallow","data-testid":"show-main-action",onClick:function(){return U(!z)}},c.a.createElement("span",{className:"add-task__plus"}," + "),c.a.createElement("span",{className:"add-task__text"}," Add Task ")),(s||z)&&c.a.createElement("div",{className:"add-task__main","data-testid":"add-task-main"},s&&c.a.createElement(n.Fragment,null,c.a.createElement("div",{"data-testid":"quick-add-task"},c.a.createElement("h2",{className:"header"}," Quick Add Task "),c.a.createElement("span",{"aria-label":"Close",className:"add-task__cancel-x","data-testid":"add-task-quick-cancel",onClick:function(){d(!1),T(!1),k(""),D("")}}," X"))),c.a.createElement("input",{type:"text",className:"add-task__content","data-testid":"add-task-content",value:E,onChange:function(e){return k(e.target.value)}}),c.a.createElement("button",{type:"button",className:"add-task__submit","data-testid":"add-task",onClick:function(){var e=g||u,t=null;return"TODAY"===e?t=m()().format("DD-MM-YYYY"):"NEXT_7"===e&&(t=m()().add(7,"days").format("DD-MM-YYYY")),e&&E&&i.firestore().collection("tasks").add({userid:"1",archive:!1,date:t||O,projectid:e,task:E}).then((function(e){D(""),k(""),x(!1),N(""),U(!1),d&&d(!1),T(!1)}))}},"Add Task"),!s&&c.a.createElement("span",{className:"add-task__cancel","data-testid":"add-task-main-cancel",onClick:function(){U(!1),T(!1),D(""),k("")}},"cancel"),c.a.createElement("span",{className:"add-task__project","data-testid":"show-project-overlay",onClick:function(){return T(!B)}},c.a.createElement(p.f,null)),c.a.createElement("span",{className:"add-task__date","data-testid":"show-task-date-overlay",onClick:function(){return x(!M)}},c.a.createElement(p.e,null)),B&&c.a.createElement(_,{setProject:D,setShowProjectOverlay:T}),M&&c.a.createElement(y,{setDate:N,setShowDate:x})))},D=a(13),S=a.n(D),Y=function(e){var t=e.darkMode,a=e.setDarkMode,r=Object(n.useState)(!1),l=Object(o.a)(r,2),s=l[0],d=l[1];return c.a.createElement("div",{className:t?"darkmode":void 0,"data-testid":"header"},c.a.createElement("header",null,c.a.createElement("nav",null,c.a.createElement("div",{className:"logo"},c.a.createElement("img",{src:S.a,alt:"App-Logo"})),c.a.createElement("div",{className:"settings"},c.a.createElement("ul",null,c.a.createElement("li",{"data-testid":"quick-add-task-action",className:"settings__add",onClick:function(){return d(!0)}},"+"),c.a.createElement("li",{"data-testid":"dark-mode-action",className:"settings__darkmode",onClick:function(){return a(!t)}},c.a.createElement(p.c,null)))))),c.a.createElement(g,{showAddTaskMain:!1,showQuickAddTask:s,setShowQuickAddTask:d}))},B=a(4),T=function(e){var t=e.project,a=w().setSelectedProject,r=N(),l=r.projects,s=r.setProjects,d=Object(n.useState)(!1),u=Object(o.a)(d,2),m=u[0],f=u[1];return c.a.createElement(n.Fragment,null,c.a.createElement("span",{className:"sidebar__dot",style:{color:t.color,fontSize:"42px"}},"\u30fb"),c.a.createElement("span",{className:"sidebar__project-name"}," ",t.name," "),c.a.createElement("span",{className:"sidebar__project-delete","data-testid":"delete-project",onClick:function(){return f(!m)}},c.a.createElement(p.j,null)),m&&c.a.createElement("div",{className:"project-delete-modal","data-testid":"project-delete-modal"},c.a.createElement("div",{className:"project-delete-modal__inner"},c.a.createElement("p",null," Are you sure you want to delete this project?"),c.a.createElement("button",{type:"button","data-testid":"delete-task-action",onClick:function(){return e=t.docId,void i.firestore().collection("projects").doc(e).delete().then((function(){s(Object(B.a)(l)),a("INBOX")}));var e}}," Yes, Delete"),c.a.createElement("span",{onClick:function(){return f(!m)}},"Cancel"))))},I=function(e){var t=e.activeValue,a=t.active,n=t.setActive,r=N().projects,l=w().setSelectedProject;return r&&r.map((function(e){return c.a.createElement("li",{key:e.docId,"data-doc-id":e.docId,"data-testid":"project-action-parent-".concat(e.docId),className:a===e.docId?"active sidebar__project":"sidebar__project"},c.a.createElement("div",{className:"project-action",role:"button","data-testid":"project-action-".concat(e.docId),"aria-label":"Select ".concat(e.name," as the task project"),onClick:function(){n(e.docId),l(e.docId),document.title=e.name},onKeyDown:function(){n(e.docId),l(e.docId),document.title=e.name},tabIndex:0},c.a.createElement(T,{project:e})))}))},C=function(){var e=["#6accbc","#fad003","#ff8d85","#ff9932","#af38eb","#fa4545"],t=Object(n.useState)(!1),a=Object(o.a)(t,2),r=a[0],l=a[1],s=Object(n.useState)(""),d=Object(o.a)(s,2),u=d[0],m=d[1],p=N(),f=p.projects,j=p.setProjects,E=w(),k=E.selectedProject,b=E.setSelectedProject;return c.a.createElement("div",{className:"add-project","data-testid":"add-project"},r&&c.a.createElement("div",{className:"add-project__input"},c.a.createElement("input",{value:u,onChange:function(e){return m(e.target.value)},"data-testid":"project-name",type:"text",placeholder:"Name Your Project"}),c.a.createElement("button",{className:"add-project__submit",type:"button","data-testid":"add-project-submit",onClick:function(t){t.preventDefault(),i.firestore().collection("projects").add({name:u,color:e[Math.floor(Math.random()*e.length)],userid:"1"}).then((function(){j(Object(B.a)(f)),b(k),l(!1),m("")}))}},"Add Project"),c.a.createElement("span",{className:"add-project__cancel","data-testid":"hide-project-overlay",onClick:function(){l(!1),m("")}},"cancel")),c.a.createElement("span",{className:"add-project__plus"},"+"),c.a.createElement("span",{"data-testid":"add-project-action",className:"add-project__text",onClick:function(){return l(!r)}},"Add Project"))},M=function(){var e=w().setSelectedProject,t=Object(n.useState)("INBOX"),a=Object(o.a)(t,2),r=a[0],l=a[1],s=Object(n.useState)(!0),d=Object(o.a)(s,2),i=d[0],u=d[1];return c.a.createElement("div",{className:"sidebar","data-testid":"sidebar"},c.a.createElement("ul",{className:"sidebar__generic"},c.a.createElement("li",{"data-testid":"inbox",className:"INBOX"===r?"active":void 0},c.a.createElement("div",{"data-testid":"inbox-action",onClick:function(){e("INBOX"),l("INBOX"),document.title="INBOX"}},c.a.createElement("span",null,c.a.createElement(p.b,null)),c.a.createElement("span",null," Inbox "))),c.a.createElement("li",{"data-testid":"today",className:"TODAY"===r?"active":void 0},c.a.createElement("div",{"data-testid":"today-action",onClick:function(){e("TODAY"),l("TODAY"),document.title="TODAY"}},c.a.createElement("span",null,c.a.createElement(p.d,null)),c.a.createElement("span",null," Tododay "))),c.a.createElement("li",{"data-testid":"next_7",className:"NEXT_7"===r?"active":void 0},c.a.createElement("div",{"data-testid":"next-action",onClick:function(){e("NEXT_7"),l("NEXT_7"),document.title="NEXT_7"}},c.a.createElement("span",null,c.a.createElement(p.e,null)),c.a.createElement("span",null," Next 7 days ")))),c.a.createElement("div",{className:"sidebar__middle","data-testid":"sidebar-middle-action",onClick:function(){return u(!i)}},c.a.createElement("span",null,c.a.createElement(p.a,{className:i?void 0:"hidden-projects","data-testid":"icon-action"})),c.a.createElement("h2",null," Projects")),c.a.createElement("ul",{className:"sidebar__projects"},i&&c.a.createElement(I,{activeValue:{active:r,setActive:l}})),c.a.createElement(C,null))},x=function(e){var t=e.id;return c.a.createElement("div",{className:"checkbox-holder","data-testid":"checkbox-action",onClick:function(){i.firestore().collection("tasks").doc(t).update({archive:!0})}},c.a.createElement("span",{className:"checkbox"}))},P=function(){var e=w().selectedProject,t=N().projects,a="";t&&!E(e)&&(a=function(e,t){return e.find((function(e){return e.docId===t}))}(t,e).name),t&&E(e)&&(a=function(e){return j.find((function(t){return t.key===e}))}(e).name);var r=function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),c=a[0],r=a[1],l=Object(n.useState)([]),s=Object(o.a)(l,2),d=s[0],u=s[1];return Object(n.useEffect)((function(){var t=i.firestore().collection("tasks").where("userid","==","1");(t=e&&!E(e)?t.where("projectid","==",e):"INBOX"===e?t.where("projectid","==","INBOX"):"TODAY"===e?t.where("date","==",m()().format("DD-MM-YYYY")):"NEXT_7"===e?t.where("date","<=",m()().add(7,"days").format("DD-MM-YYYY")).where("date",">",m()().format("DD-MM-YYYY")):t).onSnapshot((function(e){var t=e.docs.map((function(e){var t=e.data();return b({id:e.id},t)})),a=t.filter((function(e){return!1===e.archive})),n=t.filter((function(e){return!0===e.archive}));r(a),u(n)}))}),[e]),[c,d]}(e),l=Object(o.a)(r,1)[0];return c.a.createElement("div",{className:"tasks","data-testid":"tasks"},c.a.createElement("h2",{"data-testid":"project-name"},a),c.a.createElement("ul",{className:"tasks__list"},l.map((function(e){return c.a.createElement("li",{key:e.id},c.a.createElement(x,{id:e.id}),c.a.createElement("span",null,e.task))}))),c.a.createElement(g,null))},X=function(){return c.a.createElement("div",{className:"content"},c.a.createElement(M,null),c.a.createElement(P,null))};var z=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],r=t[1];return c.a.createElement(h,null,c.a.createElement(O,null,c.a.createElement("main",{className:"App","data-testid":"application"},c.a.createElement(Y,{darkMode:a,setDarkMode:r}),c.a.createElement(X,null))))};a(26);l.a.render(c.a.createElement(z,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.7e95f607.chunk.js.map